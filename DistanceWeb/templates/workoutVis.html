<html>
    <head>
      <title>My Workout Tracker</title>
      <link rel="stylesheet" type="text/css"
            href="{{ url_for('static', filename='css/style2.css') }}">
      <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"
                  integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I="
                  crossorigin="anonymous"></script>
    </head>

    <body>
      <h1> My Workout </h1>

<div id="whole", class="span">

      <div id="j">
           <div class="span1">
            03:05
            <br />
              <div class="span5">
              min:sec
              </div>
           </div>
      </div>

      <div id="center">
        <div class="span3">
          </div>
       </div>


          <div id="logo">
            <span id="speedometer"></span>
            <span id="needle"></span>
          </div>
      </div>

      <div id="h">
          <div id="span2">
          </div>
      </div>

</div>
        <script type="text/javascript" charset="utf-8">
            var socket = io();
            var totalDis = 0;
            var currentSpeed = 0;
            var speedDisplay = 0;
            var disDisplay = 0;
            socket.on('connect', function() {
              // socket.emit('json', {data: 'I\'m connected!'});
            });

            socket.on('distance', function(dist_obj) {
                const json = JSON.parse(dist_obj);
                console.log(json);
                //console.log(json.distance);

                if (json.distance !== undefined) {
                    totalDis = parseFloat(json.distance);
                    disDisplay = totalDis.toString();
                    console.log(totalDis);
                    console.log(disDisplay);
                    setDistance();
                    }
                });
            function setDistance(){
              var elem = document.getElementById("span2");
              elem.innerHTML = (disDisplay + " metres");
            }

            socket.on('speed', function(speed_obj) {
                const json = JSON.parse(speed_obj);
                console.log(json);
                //console.log(json.distance);

                if (json.speed !== undefined) {
                    currentSpeed = parseFloat(json.speed);
                    speedDisplay = currentSpeed.toString();
                    console.log(currentSpeed);
                    console.log(speedDisplay);
                    setSpeed();
                    }
                });
            function setSpeed(){
              var elem2 = document.getElementById("needle");
            }
          </script>
    </body>
</html>
